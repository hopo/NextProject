<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- // 환자 매퍼 -->
<mapper
	namespace="kr.or.nextit.patient.service.impl.PatientMapper">


	<!-- 환자등록 -->
	<insert id="patientInsert"
		parameterType="kr.or.nextit.comm.model.PatientVo">

		INSERT INTO tb_patient (
			pat_code,
			pat_inscode,
			pat_name,
			pat_phone,
			pat_rrnum,
			pat_gender,
			pat_address,
			pat_disease,
			pat_firstdate,
			pat_redate,
			pat_memo,
			emp_id
		) VALUES (
			#{patCode},
			#{patInscode},
			#{patName},
			#{patPhone},
			#{patRrnum},
			#{patGender},
			#{patAddress},
			#{patDisease},
			#{patFirstdate},
			#{patRedate},
			#{patMemo},
			#{empId}
		)

	</insert>




	<!-- 환자 리스트 -->
	<select id="patientSelectList"
		resultType="kr.or.nextit.comm.model.PatientVo"
		parameterType="kr.or.nextit.comm.model.PatientVo">

		SELECT
			pat_code,
			pat_inscode,
			pat_name,
			pat_phone,
			pat_rrnum,
			pat_gender,
			pat_address,
			pat_disease,
			pat_firstdate,
			pat_redate,
			pat_memo,
			emp_id
		FROM
			TB_PATIENT

	</select>


	<!-- 환자 상세보기 -->
	<select id="patientSelectView"
		resultType="kr.or.nextit.comm.model.PatientVo"
		parameterType="kr.or.nextit.comm.model.PatientVo">

		SELECT
			pat_code,
			pat_inscode,
			pat_name,
			pat_phone,
			pat_rrnum,
			pat_gender,
			pat_address,
			pat_disease,
			pat_firstdate,
			pat_redate,
			pat_memo,
			emp_id
		FROM
			TB_PATIENT
			WHERE PAT_CODE = #{patCode}

	</select>
	
	
	
	
	<!-- 환자 수정  -->
	<update id="patientUpdate"
		parameterType="kr.or.nextit.comm.model.PatientVo">
			 
		UPDATE tb_patient
		SET
		     pat_name =#{patName},
		     emp_id =#{empId},
		     pat_rrnum =#{patRrnum},
		     pat_address =#{patAddress},
		     pat_phone =#{patPhone},
		     pat_disease =#{patDisease},
		     pat_memo =#{patMemo}
		WHERE
		    pat_code = #{patCode}


	</update>




</mapper>




























